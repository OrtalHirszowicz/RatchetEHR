Folder Num:  
Executed 1 SQLs
Database already exists, set replace=True to rebuild
Table not found in schema "mimiciv_bsi_100_4h_test", regenerating
Regenerated Cohort in 1.4163575172424316 seconds
Precentage of 1 label:  0.044470450555880635
For now uses Weighted random sampler
Precentage of 1 label after cleaning:  0.05150214592274678
For now uses Weighted random sampler
126
Experiment number  0
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5122[0m    [32m0.6705[0m  [35m0.5887[0m     [31m0.5061[0m        [94m1.3366[0m          [36m0.6948[0m        [32m0.0512[0m    [35m0.0891[0m         [31m0.4622[0m        [94m2.0924[0m     +  119.1944
      2      0.5023    [32m0.6720[0m  0.5569     [31m0.5179[0m        [94m1.2881[0m          [36m0.9381[0m        [32m0.1743[0m    [35m0.2243[0m         [31m0.6579[0m        [94m1.6789[0m     +  117.7380
      3      [36m0.5412[0m    [32m0.7150[0m  [35m0.6104[0m     [31m0.5569[0m        [94m1.2157[0m          [36m0.9522[0m        [32m0.2404[0m    0.0303         [31m0.7771[0m        [94m0.5758[0m     +  118.3568
      4      [36m0.5931[0m    [32m0.7994[0m  [35m0.6347[0m     [31m0.6681[0m        [94m1.0601[0m          0.9388        [32m0.2750[0m    [35m0.3279[0m         [31m0.7933[0m        [94m0.4441[0m     +  119.5527
      5      [36m0.6392[0m    [32m0.8492[0m  [35m0.6790[0m     [31m0.7238[0m        [94m0.8972[0m          0.9507        0.2598    0.2979         0.7905        [94m0.3066[0m     +  122.4783
6
Current ROC-AUC score on the val set:  0.8180364079518624
Current AUC PR score on the val set:  0.37901897394738304
Current ROC-AUC score on the test set:  0.7904866474834671
Current AUC PR score on the test set:  0.2597582145131194
Experiment number  1
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5099[0m    [32m0.6750[0m  [35m0.5847[0m     [31m0.5113[0m        [94m1.3151[0m          [36m0.9537[0m        [32m0.1172[0m    [35m0.0000[0m         [31m0.5607[0m        [94m1.2371[0m     +  123.0183
      2      0.5087    [32m0.6847[0m  0.5817     [31m0.5120[0m        [94m1.2649[0m          0.8993        0.1000    [35m0.2012[0m         0.5444        1.9176     +  134.3125
      3      [36m0.5122[0m    [32m0.6847[0m  0.5723     [31m0.5280[0m        [94m1.2612[0m          0.9149        0.0921    [35m0.2083[0m         0.5268        1.9825     +  121.9315
      4      [36m0.5458[0m    [32m0.7486[0m  [35m0.5990[0m     [31m0.5903[0m        [94m1.1711[0m          0.9373        [32m0.1295[0m    0.1923         [31m0.6454[0m        [94m0.7695[0m     +  122.5650
      5      [36m0.6026[0m    [32m0.8083[0m  [35m0.6375[0m     [31m0.6757[0m        [94m1.0337[0m          0.9373        [32m0.1731[0m    [35m0.2500[0m         [31m0.7366[0m        [94m0.4749[0m     +  123.2854
6
Current ROC-AUC score on the val set:  0.7627389747886358
Current AUC PR score on the val set:  0.1767034844364906
Current ROC-AUC score on the test set:  0.7366159321520521
Current AUC PR score on the test set:  0.17309515381509205
Experiment number  2
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5168[0m    [32m0.6862[0m  [35m0.5884[0m     [31m0.5261[0m        [94m1.2977[0m          [36m0.9530[0m        [32m0.1821[0m    [35m0.0597[0m         [31m0.7272[0m        [94m1.0486[0m     +  122.2053
      2      [36m0.5223[0m    [32m0.7056[0m  0.5824     [31m0.5486[0m        [94m1.2515[0m          0.9403        [32m0.2450[0m    [35m0.2857[0m         [31m0.7617[0m        1.6351     +  123.4588
      3      [36m0.6107[0m    [32m0.8115[0m  [35m0.6499[0m     [31m0.6822[0m        [94m1.0234[0m          0.9463        [32m0.2701[0m    0.2340         0.7533        [94m0.4864[0m     +  124.0051
      4      [36m0.6468[0m    [32m0.8493[0m  [35m0.6826[0m     [31m0.7240[0m        [94m0.8983[0m          0.9500        0.2621    0.2796         [31m0.7622[0m        0.5220     +  123.1950
      5      [36m0.6682[0m    [32m0.8615[0m  [35m0.7032[0m     [31m0.7416[0m        [94m0.8346[0m          0.9373        0.2502    0.2759         0.7343        [94m0.4232[0m     +  122.3698
6
Current ROC-AUC score on the val set:  0.765442912636149
Current AUC PR score on the val set:  0.2336904514481821
Current ROC-AUC score on the test set:  0.734337927204806
Current AUC PR score on the test set:  0.2501953768404079
Experiment number  3
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5224[0m    [32m0.6824[0m  [35m0.5966[0m     [31m0.5205[0m        [94m1.3181[0m          [36m0.9485[0m        [32m0.1680[0m    [35m0.0800[0m         [31m0.6952[0m        [94m1.0160[0m     +  121.4944
      2      [36m0.5375[0m    [32m0.7113[0m  [35m0.6031[0m     [31m0.5577[0m        [94m1.2378[0m          0.9448        [32m0.2097[0m    [35m0.1591[0m         [31m0.7311[0m        1.3288     +  119.3897
      3      [36m0.5962[0m    [32m0.8049[0m  [35m0.6505[0m     [31m0.6601[0m        [94m1.0496[0m          [36m0.9500[0m        0.2057    0.1299         [31m0.7382[0m        [94m0.4565[0m     +  123.2282
      4      [36m0.6549[0m    [32m0.8493[0m  [35m0.6891[0m     [31m0.7322[0m        [94m0.8866[0m          [36m0.9507[0m        [32m0.2212[0m    0.1538         [31m0.7480[0m        [94m0.2838[0m     +  121.2459
      5      [36m0.6621[0m    [32m0.8547[0m  [35m0.6898[0m     [31m0.7383[0m        [94m0.8554[0m          [36m0.9522[0m        0.1341    [35m0.2000[0m         0.4827        0.6095     +  124.0777
6
Current ROC-AUC score on the val set:  0.6971208774468733
Current AUC PR score on the val set:  0.3030651859514499
Current ROC-AUC score on the test set:  0.4826972588217477
Current AUC PR score on the test set:  0.13405670993180105
Experiment number  4
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5333[0m    [32m0.7049[0m  [35m0.6035[0m     [31m0.5454[0m        [94m1.2845[0m          [36m0.8918[0m        [32m0.2589[0m    [35m0.3192[0m         [31m0.7819[0m        [94m1.6091[0m     +  121.2393
      2      [36m0.5578[0m    [32m0.7728[0m  [35m0.6095[0m     [31m0.6134[0m        [94m1.1375[0m          [36m0.9336[0m        [32m0.2804[0m    [35m0.3688[0m         0.7644        [94m0.3279[0m     +  119.2524
      3      [36m0.6102[0m    [32m0.8212[0m  [35m0.6397[0m     [31m0.6873[0m        [94m0.9955[0m          0.9313        0.2695    [35m0.4103[0m         0.7174        0.5778     +  122.6105
      4      [36m0.6410[0m    [32m0.8425[0m  [35m0.6728[0m     [31m0.7158[0m        [94m0.9134[0m          0.9231        0.2604    0.3681         0.7256        0.8278     +  120.2924
      5      [36m0.6584[0m    [32m0.8604[0m  [35m0.6953[0m     [31m0.7356[0m        [94m0.8468[0m          0.9284        0.2629    0.3766         0.7097        0.7461     +  121.8498
6
Current ROC-AUC score on the val set:  0.7314723131997867
Current AUC PR score on the val set:  0.332718347395815
Current ROC-AUC score on the test set:  0.7096647988288152
Current AUC PR score on the test set:  0.26294714067121094
Experiment number  5
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5002[0m    [32m0.6639[0m  [35m0.5766[0m     [31m0.4954[0m        [94m1.3340[0m          [36m0.2104[0m        [32m0.1854[0m    [35m0.0942[0m         [31m0.6968[0m        [94m2.3243[0m     +  123.5939
      2      [36m0.5150[0m    [32m0.6849[0m  [35m0.5913[0m     [31m0.5164[0m        [94m1.2625[0m          0.0627        [32m0.2117[0m    0.0859         [31m0.7146[0m        2.5720     +  123.1942
      3      [36m0.5504[0m    [32m0.7307[0m  [35m0.6186[0m     [31m0.5712[0m        [94m1.2041[0m          [36m0.9448[0m        [32m0.2520[0m    [35m0.3019[0m         [31m0.7887[0m        [94m0.8822[0m     +  123.3407
      4      [36m0.6036[0m    [32m0.8157[0m  [35m0.6353[0m     [31m0.6810[0m        [94m1.0124[0m          0.9366        [32m0.2833[0m    [35m0.3704[0m         0.7618        [94m0.6962[0m     +  122.3824
      5      [36m0.6499[0m    [32m0.8428[0m  [35m0.6789[0m     [31m0.7313[0m        [94m0.9050[0m          0.9299        0.2699    0.3562         0.7431        [94m0.4863[0m     +  122.7697
6
Current ROC-AUC score on the val set:  0.8055449767689846
Current AUC PR score on the val set:  0.34022775629341534
Current ROC-AUC score on the test set:  0.7430839517391086
Current AUC PR score on the test set:  0.26989091244757607
Experiment number  6
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5098[0m    [32m0.6683[0m  [35m0.5833[0m     [31m0.5029[0m        [94m1.3296[0m          [36m0.2575[0m        [32m0.1412[0m    [35m0.0963[0m         [31m0.7178[0m        [94m2.2224[0m     +  120.6024
      2      [36m0.5203[0m    [32m0.6789[0m  [35m0.6029[0m     [31m0.5123[0m        [94m1.2725[0m          [36m0.9425[0m        [32m0.1538[0m    [35m0.1149[0m         0.7155        [94m0.9348[0m     +  121.2381
      3      [36m0.5617[0m    [32m0.7376[0m  [35m0.6376[0m     [31m0.5750[0m        [94m1.1905[0m          [36m0.9485[0m        [32m0.2114[0m    [35m0.1882[0m         [31m0.7706[0m        [94m0.3738[0m     +  120.7677
      4      [36m0.5882[0m    [32m0.8015[0m  0.6300     [31m0.6583[0m        [94m1.0552[0m          0.9403        [32m0.2578[0m    [35m0.3103[0m         0.7301        1.1950     +  123.6268
      5      [36m0.6513[0m    [32m0.8555[0m  [35m0.6892[0m     [31m0.7343[0m        [94m0.8761[0m          0.9478        0.2338    0.2553         0.7112        0.5966     +  123.2387
6
Current ROC-AUC score on the val set:  0.6955975321806688
Current AUC PR score on the val set:  0.29990123611896236
Current ROC-AUC score on the test set:  0.7112171235297088
Current AUC PR score on the test set:  0.23375336263813573
Experiment number  7
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5356[0m    [32m0.6958[0m  [35m0.6211[0m     [31m0.5255[0m        [94m1.2858[0m          [36m0.9485[0m        [32m0.2094[0m    [35m0.3030[0m         [31m0.6893[0m        [94m1.2187[0m     +  121.8100
      2      [36m0.5357[0m    [32m0.7232[0m  0.5963     [31m0.5729[0m        [94m1.2195[0m          [36m0.9545[0m        [32m0.2348[0m    0.2989         [31m0.7210[0m        [94m0.5219[0m     +  122.8080
      3      [36m0.5974[0m    [32m0.8172[0m  [35m0.6373[0m     [31m0.6714[0m        [94m1.0230[0m          0.9515        [32m0.2467[0m    [35m0.3158[0m         [31m0.7338[0m        0.5280     +  122.2231
      4      [36m0.6294[0m    [32m0.8314[0m  [35m0.6499[0m     [31m0.7067[0m        [94m0.9405[0m          0.9500        0.2308    0.2796         0.7139        0.8149     +  123.0648
      5      [36m0.6474[0m    [32m0.8587[0m  [35m0.6777[0m     [31m0.7296[0m        [94m0.8504[0m          0.9500        0.2421    0.2472         [31m0.7544[0m        [94m0.4522[0m     +  122.0948
6
Current ROC-AUC score on the val set:  0.8213116002742021
Current AUC PR score on the val set:  0.325707252033545
Current ROC-AUC score on the test set:  0.7544424251602808
Current AUC PR score on the test set:  0.2420578786088843
Experiment number  8
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5305[0m    [32m0.6941[0m  [35m0.6070[0m     [31m0.5264[0m        [94m1.3070[0m          [36m0.9515[0m        [32m0.1220[0m    [35m0.0299[0m         [31m0.6557[0m        [94m1.5716[0m     +  120.9148
      2      0.5227    [32m0.6997[0m  0.5817     [31m0.5512[0m        [94m1.2497[0m          0.9396        [32m0.1723[0m    [35m0.2569[0m         [31m0.6574[0m        1.7502     +  122.5364
      3      [36m0.5813[0m    [32m0.7788[0m  [35m0.6298[0m     [31m0.6400[0m        [94m1.1141[0m          0.9433        [32m0.1862[0m    0.1739         [31m0.7252[0m        [94m0.6236[0m     +  119.3724
      4      [36m0.6459[0m    [32m0.8468[0m  [35m0.6867[0m     [31m0.7283[0m        [94m0.9112[0m          0.9381        [32m0.2121[0m    [35m0.2655[0m         0.7047        0.6526     +  121.9414
      5      [36m0.6764[0m    [32m0.8615[0m  [35m0.7173[0m     [31m0.7517[0m        [94m0.8326[0m          0.9373        [32m0.2483[0m    [35m0.2759[0m         [31m0.7444[0m        [94m0.5333[0m     +  126.3926
6
Current ROC-AUC score on the val set:  0.7317388986213725
Current AUC PR score on the val set:  0.2578036145095187
Current ROC-AUC score on the test set:  0.7444469685496492
Current AUC PR score on the test set:  0.24833173568486444
Experiment number  9
6
  epoch    accuracy    auc_pr      f1    roc_auc    train_loss    val_accuracy    val_auc_pr    val_f1    val_roc_auc    valid_loss    cp       dur
-------  ----------  --------  ------  ---------  ------------  --------------  ------------  --------  -------------  ------------  ----  --------
      1      [36m0.5424[0m    [32m0.7058[0m  [35m0.6243[0m     [31m0.5377[0m        [94m1.2757[0m          [36m0.9485[0m        [32m0.2098[0m    [35m0.2247[0m         [31m0.7692[0m        [94m1.1642[0m     +  120.7164
      2      [36m0.5574[0m    [32m0.7609[0m  0.6113     [31m0.6113[0m        [94m1.1590[0m          0.9299        [32m0.2235[0m    [35m0.2985[0m         0.7098        [94m0.9423[0m     +  121.5601
      3      [36m0.6203[0m    [32m0.8291[0m  [35m0.6578[0m     [31m0.6995[0m        [94m0.9760[0m          0.9261        [32m0.2720[0m    [35m0.3265[0m         [31m0.8057[0m        [94m0.5376[0m     +  122.5334
      4      [36m0.6456[0m    [32m0.8541[0m  [35m0.6860[0m     [31m0.7235[0m        [94m0.8826[0m          0.9291        [32m0.2779[0m    [35m0.3357[0m         0.7798        0.7068     +  123.8230
      5      [36m0.6548[0m    [32m0.8554[0m  0.6826     [31m0.7380[0m        [94m0.8566[0m          0.9381        [32m0.2794[0m    0.2906         0.7839        0.6811     +  124.7594
6
Current ROC-AUC score on the val set:  0.80565922766395
Current AUC PR score on the val set:  0.20880785781845773
Current ROC-AUC score on the test set:  0.7839429047402695
Current AUC PR score on the test set:  0.2794287914962717
Some information on the sets:
Training size:  6552
Validation size:  729
Test size:  1340
